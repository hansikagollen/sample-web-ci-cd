stages:
  - build
  - test
  - deploy

# Stage 1: Build
build_job:
  stage: build
  image: node:18
  script:
    - echo "🔧 Starting build stage..."
    - echo "No dependencies to install (no package.json found)."
    - echo "✅ Build stage completed successfully!"

# Stage 2: Test
test_job:
  stage: test
  image: node:18
  script:
    - echo "🚀 Running sample test..."
    - node test.js || echo "⚠️ Skipping test file check (if missing)"
  only:
    - branches

# Stage 3: Deploy
deploy_job:
  stage: deploy
  image: alpine
  script:
    - echo "📦 Simulating deployment..."
    - echo "✅ Deploy stage completed successfully!"
  only:
    - branches
