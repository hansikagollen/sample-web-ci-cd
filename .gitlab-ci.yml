stages:
  - build
  - test
  - deploy

build_job:
  stage: build
  image: node:18-alpine
  script:
    - echo "🔧 Starting build stage..."
    - echo "No dependencies to install (no package.json found)."
    - echo "✅ Build stage completed successfully!"

test_job:
  stage: test
  image: node:18-alpine
  script:
    - echo "🚀 Running sample test..."
    - if [ -f test.js ]; then node test.js; else echo "⚠️ No test.js found — skipping test."; fi
  only:
    - branches

deploy_job:
  stage: deploy
  image: alpine
  script:
    - echo "📦 Simulating deployment..."
    - echo "✅ Deploy stage completed successfully!"
  only:
    - branches
